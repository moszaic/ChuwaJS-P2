{"ast":null,"code":"var _jsxFileName = \"/Users/stevenfan/Documents/2022/Chuwa/project2ts/src/components/home/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./index.css\";\nimport Login from \"./login\";\nimport CartModal from \"./cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  //npx json-server --port 3001 --watch db.json\n  const [visible, setVisible] = useState(true);\n  const [tabState, setTabState] = useState(8);\n  const [cart, setCart] = useState(0);\n  const [carTotal, setCarTotal] = useState(0);\n  const [loggedIn, setLoggedIn] = useState(true);\n  const [apiValid, setApiValid] = useState(true);\n  const [valiTime, setValiTime] = useState(false);\n  const [apidone, setApiDone] = useState(false);\n  const [postApi, setPostApi] = useState(false);\n  const [inputValue, setInputValue] = useState({\n    email: \"\",\n    pw: \"\"\n  });\n  const [userName, setUserName] = useState({\n    email: \"\",\n    pw: \"\",\n    cartpredest: [],\n    cartcnum: []\n  });\n  const [preDest, setPreDest] = useState(0);\n  const [emailErr, setEmailErr] = useState(\"\");\n  const [pageNum, setPageNum] = useState(1);\n  const [isLoading, setIsLoading] = useState(true);\n  const [gridList, setGridList] = useState({\n    /*\n    0: {\n      name: \"\",\n      desc: \"\",\n      category: \"\",\n      price: 0,\n      quantity: 0,\n      img: \"\",\n    },\n    1: {\n      name: \"obj number 1\",\n      desc: \"obj 1\",\n      category: \"obj 1\",\n      price: 987,\n      quantity: 654,\n      img: \"https://cdn.onepiecechapters.com/file/CDN-M-A-N/onepiecetcb_1056_014.png\",\n    },\n    2: {\n      name: \"obj number 2\",\n      desc: \"wow\",\n      category: \"jorts\",\n      price: 10,\n      quantity: 20,\n      img: \"https://cdn.onepiecechapters.com/file/CDN-M-A-N/onepiecetcb_1056_003.png\",\n    },*/\n    // 0: \"test\",\n    //1: \"default gridlist values\",\n    0: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    1: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    2: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    3: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    4: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    5: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    6: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    7: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    8: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    9: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    10: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    11: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    12: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    13: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    14: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    15: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    16: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    17: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    },\n    18: {\n      img: \"\",\n      name: \"\",\n      price: \"\"\n    }\n  });\n\n  const getProducts = async () => {\n    const x = await fetch(\"http://localhost:3002/gridList\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(result => {\n      /*userName[\"cartpredest\"].map((e) => {\n        let a = Object.keys(result).filter((i) => e == i);\n        if (a[0] !== undefined) {\n          console.log(\"a[0] - \" + a[0]);\n          console.log(\"a[0] usernamecpd - \" + userName[\"cartpredest\"]);\n          let x = { ...result[e], cartnum: userName[\"cartpredest\"][e] };\n          putposter(e, x);\n        }\n      });*/\n      setGridList(result);\n      setIsLoading(false);\n      handleCart(result);\n\n      if (userName.email == \"Guest\") {\n        setCart(0);\n      }\n\n      return result;\n    });\n    return x;\n  };\n\n  const putposter = async (i, e) => {\n    let x = 0;\n    let y = await fetch(\"http://localhost:3002/gridList/\" + i, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(e)\n    }).then(response => {\n      /*let a = Object.assign(gridList);\n      a[i] = e;\n      setGridList(a);*/\n      getProducts();\n\n      if (response.ok) {\n        ////console.log(\"ecartnum\" + e.cartnum);\n        //getProducts();\n        setPostApi(true); //////getProducts(); //August 26 change # 5\n        //setCarTotal((carTotal += x));\n\n        return response.json();\n      }\n    });\n    return y;\n  };\n\n  const getUser = async () => {\n    const x = await fetch(\"http://localhost:3002/activeuser\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(result => {\n      //August 26 wipe #12\n      setUserName(result);\n      getProducts();\n      return result;\n    });\n    return x;\n  };\n\n  const checkLogin = async (a, b) => {\n    let x = await getLogin();\n    let y = false;\n    let z = \"\";\n    console.log(\"tab excalixer: \" + JSON.stringify(x[0][\"email\"]));\n    await Object.keys(x).map((e, i) => {\n      //console.log(\"excali\" + JSON.stringify(x[1]));\n      if (x[i][\"email\"] == a && x[i][\"pw\"] == b) {\n        y = true;\n        setTabState(8); //should've done this a week n half ago\n        //console.log(\"usernamer\" + x[i]);\n      } else {\n        setEmailErr(\"emailerr\");\n      }\n    }); //August 26 wipe #12\n\n    let loginfilter = x.filter(user => user[\"email\"] == a && user[\"pw\"] == b);\n\n    if (loginfilter[0] !== undefined) {\n      if (a !== \"Guest\") {\n        let zam = {\n          email: a,\n          pw: b,\n          cartpredest: loginfilter[0].cartpredest,\n          cartcnum: loginfilter[0].cartcnum\n        };\n        console.log(\"tab ifglitch zam: \" + JSON.stringify(zam));\n        console.log(\"tab checlogin db loginfilter[0] cartpredest: \" + loginfilter[0].cartpredest);\n        console.log(\"tab checlogin db loginfilter[0] cartcnum: \" + loginfilter[0].cartcnum);\n        console.log(\"tab checlogin db loginfilter[0] email: \" + loginfilter[0].email);\n        console.log(\"tab checlogin db loginfilter[0] pw: \" + loginfilter[0].pw);\n        console.log(\"tab checlogin a: \" + a);\n\n        try {\n          putactiveuser(zam).then(e => {\n            getUser();\n          });\n        } catch (puterror) {\n          console.log(\"likely overlapping puts, error: \" + puterror); //August 28 wipe change #25 - exception catcher. also put loginfilter outside of the arguably now entirely unecessary map\n        }\n      }\n    }\n    /*if (y == false) {\n      putactiveuser({\n        email: \"Guest\",\n        pw: \"\",\n        cartpredest: [],\n        cartcnum: [],\n      }).then((e) => {\n        getUser();\n      });\n    }*/\n\n\n    setApiValid(y);\n    putStatus({\n      status: y\n    });\n    return z;\n  }; //login check True/False api\n\n\n  const putStatus = async e => {\n    await fetch(\"http://localhost:3002/logged\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(e)\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    });\n  };\n\n  const getStatus = async () => {\n    const x = await fetch(\"http://localhost:3002/logged\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(result => {\n      return result;\n    });\n    return x;\n  };\n\n  const putuser = async (i, e) => {\n    let x = i;\n    /*let y = {\n      email: e.email,\n      pw: e.pw,\n      cartpredest: a,\n      cartcnum: b,\n    };*/\n\n    console.log(\"tab putuser\");\n    setUserName(e);\n    await fetch(\"http://localhost:3002/activeuser/\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(e)\n    });\n    await fetch(\"http://localhost:3002/cartusers/\" + i, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(e)\n    }).then(response => {\n      if (response.ok) {\n        setPostApi(true);\n        return response.json();\n      }\n    });\n  };\n\n  const putactiveuser = async e => {\n    console.log(\"tab activeuser input e\" + JSON.stringify(e));\n    let waga = { ...e,\n      cartographer: [3, 2, 1]\n    };\n    await fetch(\"http://localhost:3002/activeuser\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(waga)\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"tab putactiveuser response\" + response.status);\n        return response.json();\n      }\n    });\n  };\n\n  const statuscheck = async () => {\n    getStatus().then(e => {\n      setApiValid(e.status == true);\n      setLoggedIn(e.status == true);\n\n      if (e.status == true) {\n        setTabState(8);\n        setVisible(true);\n      }\n\n      return e.status;\n    });\n  };\n\n  const getLogin = async () => {\n    const x = await fetch(\"http://localhost:3002/cartusers\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(result => {\n      //setGridList(result);\n      return result;\n    });\n    return x;\n  };\n\n  useEffect(() => {\n    //August 26 #6 a Wipe - removed gridList cartnum resetter (set all to 0)\n    getUser().then(e => {\n      //console.log(\"iop\" + e[\"email\"] + e[\"pw\"]);\n      setInputValue({\n        email: e[\"email\"],\n        pw: e[\"pw\"]\n      });\n      handleCart(gridList);\n    });\n    statuscheck(); //setInputValue({ email: userName[\"email\"], pw: userName[\"pw\"] });\n    //handleCarTotal();\n  }, []);\n  /*August 26 #7 Wipe \n  useEffect(() => {\n    getProducts();\n  }, [userName]);\n  */\n\n  useEffect(() => {\n    /*if (!apiValid) {\n      setCart(0);\n    } else {\n      handleCart();\n    }*/\n    //August 26 wipe change #16\n    handleCart(gridList);\n\n    if (userName.email == \"Guest\") {\n      setCart(0);\n    }\n\n    let y = 0;\n    let x = userName.cartcnum.reduce((a, b) => a + b, y);\n    console.log(\"cartglitch \" + userName.email + JSON.stringify(userName.cartcnum));\n    setCarTotal(x); //handleCarTotal();\n  }, [userName]);\n  /* useEffect(() => {\n    if (tabState < 5) {\n      getUser().then((e) => {\n        checkLogin(e.email, e.pw);\n      });\n    }\n  }, [inputValue]);\n   useEffect(() => {\n    getUser().then((e) => {\n      checkLogin(e.email, e.pw);\n    });\n  }, []);*/\n\n  /*useEffect(() => {\n    getProducts().then((z) => {\n      Object.keys(z).map((e, i) => {\n        if (i !== 0) {\n          if (Object.keys(z[i]).length > 1) {\n            let a = { ...z[i], cartnum: 0 };\n            putposter(i, a);\n          }\n        }\n      });\n      return 0;\n    });\n  }, []);*/\n  //August 26 change # 6\n\n  /*const resetGridList = async () => {\n    getLogin().then((e) => {\n      let a = Object.keys(e).map((q, i) => {\n        if (i !== 0) {\n          if (Object.keys(e[i]).length > 1) {\n            a[i] = { ...e[i], cartnum: 0 };\n          }\n        }\n      });\n      let y = fetch(\"http://localhost:3002/cartusers\", {\n        method: \"PUT\",\n        headers: {\n          Accept: \"application.json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(a),\n      }).then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n      });\n    });\n  };*/\n  //useEffect(() => {}, [userName]);\n  // const getter = async () => {};\n\n  const handleCart = async input => {\n    console.log(\"cartcall\");\n    let q = 0;\n    let b = 0; //console.log(\"asdf\" + JSON.stringify(a));\n    //August 26 wipe change #15\n\n    userName.cartpredest.map((e, i) => {\n      q = userName.cartcnum[i] * input[e].price;\n      b += q;\n      /*console.log(\"fdsa cartpredest[e]\" + userName.cartpredest[e]);\n      console.log(\"fdsa e\" + e);\n      console.log(\"fdsa\" + userName.cartcnum[i] + \" and i - \" + i);\n      console.log(\"fdsa gridelist[e] \" + input[e].price);\n      console.log(\"fdsa q \" + userName.cartcnum[i] * input[e].price);*/\n    });\n    console.log(\"fdsa b\" + b);\n    setCart(b);\n    return b;\n  };\n\n  return isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"loading\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"headers\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"homeb\",\n        onClick: () => setTabState(8),\n        children: \"Management Chuwa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"logbutton\",\n        onClick: () => {\n          //August 26 wipe\n\n          /*\n          Object.keys(gridList).map((e, i) => {\n            if (i !== 0) {\n              if (Object.keys(gridList[i]).length > 1) {\n                let a = { ...gridList[i], cartnum: 0 };\n                putposter(i, a);\n                console.log(\"tab resetter putposter i\" + i);\n                console.log(\"tab resetter putposter a\" + JSON.stringify(a));\n              }\n            }*/\n          //loggedIn && setLoggedIn(false);\n          setLoggedIn(!loggedIn); //setVisible(!visible);\n          //let x = apiValid ? \"true\" : \"False\";\n          //console.log(\"apiValidity\" + x);\n\n          let x = {\n            email: \"Guest\",\n            pw: \"\",\n            cartpredest: [],\n            cartcnum: []\n          };\n          console.log(\"tab login button clicked\");\n          putuser(0, x).then(e => {\n            getUser();\n          });\n\n          if (apiValid == true) {\n            setApiValid(false);\n            setInputValue({\n              email: \"\",\n              pw: \"\"\n            });\n            putStatus({\n              status: \"false\"\n            });\n            setValiTime(false);\n          } else {\n            handleCart(gridList);\n            setCart(0);\n          }\n\n          setTabState(1);\n        },\n        children: apiValid ? \"Logout\" : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"emaildisplay\",\n        children: [userName[\"email\"], \"     \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"cart\",\n        children: [\"$\", cart, \"  \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"carticon\",\n        children: /*#__PURE__*/_jsxDEV(CartModal, {\n          carTotal: carTotal,\n          gridList: gridList,\n          setGridList: setGridList,\n          putposter: putposter,\n          userName: userName,\n          putuser: putuser,\n          setPreDest: setPreDest,\n          setTabState: setTabState,\n          apiValid: apiValid,\n          cart: cart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Login, {\n      visible: visible,\n      setVisible: setVisible,\n      tabState: tabState,\n      setTabState: setTabState,\n      cart: cart,\n      setCart: setCart,\n      loggedIn: loggedIn,\n      setLoggedIn: setLoggedIn,\n      apiValid: apiValid,\n      setapiValid: setApiValid,\n      valiTime: valiTime,\n      setValiTime: setValiTime,\n      putStatus: putStatus,\n      carTotal: carTotal,\n      setCarTotal: setCarTotal,\n      setApiDone: setApiDone,\n      gridList: gridList,\n      setGridList: setGridList,\n      getLogin: getLogin,\n      checkLogin: checkLogin,\n      userName: userName,\n      setUserName: setUserName,\n      putuser: putuser,\n      postApi: postApi,\n      setPostApi: setPostApi,\n      inputValue: inputValue,\n      setInputValue: setInputValue,\n      putposter: putposter,\n      getProducts: getProducts,\n      setPreDest: setPreDest,\n      preDest: preDest,\n      pageNum: pageNum,\n      setPageNum: setPageNum,\n      emailErr: emailErr,\n      setEmailErr: setEmailErr,\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      children: \"guh\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: \"footer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 437,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"XrYU1fe/X33iNrn2lrXlU35URt4=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Login","CartModal","Home","visible","setVisible","tabState","setTabState","cart","setCart","carTotal","setCarTotal","loggedIn","setLoggedIn","apiValid","setApiValid","valiTime","setValiTime","apidone","setApiDone","postApi","setPostApi","inputValue","setInputValue","email","pw","userName","setUserName","cartpredest","cartcnum","preDest","setPreDest","emailErr","setEmailErr","pageNum","setPageNum","isLoading","setIsLoading","gridList","setGridList","img","name","price","getProducts","x","fetch","method","headers","then","res","json","result","handleCart","putposter","i","e","y","Accept","body","JSON","stringify","response","ok","getUser","checkLogin","a","b","getLogin","z","console","log","Object","keys","map","loginfilter","filter","user","undefined","zam","putactiveuser","puterror","putStatus","status","getStatus","putuser","waga","cartographer","statuscheck","reduce","input","q"],"sources":["/Users/stevenfan/Documents/2022/Chuwa/project2ts/src/components/home/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./index.css\";\nimport Login from \"./login\";\nimport Modal from \"../modalsandwicher/modal\";\nimport MyModal from \"../modalsandwicher\";\nimport CartModal from \"./cart\";\n\nfunction Home() {\n  //npx json-server --port 3001 --watch db.json\n  const [visible, setVisible] = useState(true);\n  const [tabState, setTabState] = useState(8);\n  const [cart, setCart] = useState(0);\n  const [carTotal, setCarTotal] = useState(0);\n  const [loggedIn, setLoggedIn] = useState(true);\n  const [apiValid, setApiValid] = useState(true);\n  const [valiTime, setValiTime] = useState(false);\n  const [apidone, setApiDone] = useState(false);\n  const [postApi, setPostApi] = useState(false);\n  const [inputValue, setInputValue] = useState({ email: \"\", pw: \"\" });\n  const [userName, setUserName] = useState({\n    email: \"\",\n    pw: \"\",\n    cartpredest: [],\n    cartcnum: [],\n  });\n  const [preDest, setPreDest] = useState(0);\n  const [emailErr, setEmailErr] = useState(\"\");\n  const [pageNum, setPageNum] = useState(1);\n  const [isLoading, setIsLoading] = useState(true);\n  const [gridList, setGridList] = useState({\n    /*\n    0: {\n      name: \"\",\n      desc: \"\",\n      category: \"\",\n      price: 0,\n      quantity: 0,\n      img: \"\",\n    },\n    1: {\n      name: \"obj number 1\",\n      desc: \"obj 1\",\n      category: \"obj 1\",\n      price: 987,\n      quantity: 654,\n      img: \"https://cdn.onepiecechapters.com/file/CDN-M-A-N/onepiecetcb_1056_014.png\",\n    },\n    2: {\n      name: \"obj number 2\",\n      desc: \"wow\",\n      category: \"jorts\",\n      price: 10,\n      quantity: 20,\n      img: \"https://cdn.onepiecechapters.com/file/CDN-M-A-N/onepiecetcb_1056_003.png\",\n    },*/ // 0: \"test\",\n    //1: \"default gridlist values\",\n    0: { img: \"\", name: \"\", price: \"\" },\n    1: { img: \"\", name: \"\", price: \"\" },\n    2: { img: \"\", name: \"\", price: \"\" },\n    3: { img: \"\", name: \"\", price: \"\" },\n    4: { img: \"\", name: \"\", price: \"\" },\n    5: { img: \"\", name: \"\", price: \"\" },\n    6: { img: \"\", name: \"\", price: \"\" },\n    7: { img: \"\", name: \"\", price: \"\" },\n    8: { img: \"\", name: \"\", price: \"\" },\n    9: { img: \"\", name: \"\", price: \"\" },\n    10: { img: \"\", name: \"\", price: \"\" },\n    11: { img: \"\", name: \"\", price: \"\" },\n    12: { img: \"\", name: \"\", price: \"\" },\n    13: { img: \"\", name: \"\", price: \"\" },\n    14: { img: \"\", name: \"\", price: \"\" },\n    15: { img: \"\", name: \"\", price: \"\" },\n    16: { img: \"\", name: \"\", price: \"\" },\n    17: { img: \"\", name: \"\", price: \"\" },\n    18: { img: \"\", name: \"\", price: \"\" },\n  });\n\n  const getProducts = async () => {\n    const x = await fetch(\"http://localhost:3002/gridList\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        /*userName[\"cartpredest\"].map((e) => {\n          let a = Object.keys(result).filter((i) => e == i);\n          if (a[0] !== undefined) {\n            console.log(\"a[0] - \" + a[0]);\n            console.log(\"a[0] usernamecpd - \" + userName[\"cartpredest\"]);\n            let x = { ...result[e], cartnum: userName[\"cartpredest\"][e] };\n            putposter(e, x);\n          }\n        });*/\n        setGridList(result);\n        setIsLoading(false);\n        handleCart(result);\n        if (userName.email == \"Guest\") {\n          setCart(0);\n        }\n        return result;\n      });\n    return x;\n  };\n\n  const putposter = async (i, e) => {\n    let x = 0;\n    let y = await fetch(\"http://localhost:3002/gridList/\" + i, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(e),\n    }).then((response) => {\n      /*let a = Object.assign(gridList);\n      a[i] = e;\n      setGridList(a);*/\n      getProducts();\n      if (response.ok) {\n        ////console.log(\"ecartnum\" + e.cartnum);\n        //getProducts();\n        setPostApi(true);\n        //////getProducts(); //August 26 change # 5\n        //setCarTotal((carTotal += x));\n        return response.json();\n      }\n    });\n    return y;\n  };\n\n  const getUser = async () => {\n    const x = await fetch(\"http://localhost:3002/activeuser\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        //August 26 wipe #12\n        setUserName(result);\n        getProducts();\n        return result;\n      });\n    return x;\n  };\n\n  const checkLogin = async (a, b) => {\n    let x = await getLogin();\n    let y = false;\n    let z = \"\";\n    console.log(\"tab excalixer: \" + JSON.stringify(x[0][\"email\"]));\n    await Object.keys(x).map((e, i) => {\n      //console.log(\"excali\" + JSON.stringify(x[1]));\n      if (x[i][\"email\"] == a && x[i][\"pw\"] == b) {\n        y = true;\n        setTabState(8); //should've done this a week n half ago\n        //console.log(\"usernamer\" + x[i]);\n      } else {\n        setEmailErr(\"emailerr\");\n      }\n    });\n    //August 26 wipe #12\n    let loginfilter = x.filter((user) => user[\"email\"] == a && user[\"pw\"] == b);\n    if (loginfilter[0] !== undefined) {\n      if (a !== \"Guest\") {\n        let zam = {\n          email: a,\n          pw: b,\n          cartpredest: loginfilter[0].cartpredest,\n          cartcnum: loginfilter[0].cartcnum,\n        };\n        console.log(\"tab ifglitch zam: \" + JSON.stringify(zam));\n        console.log(\n          \"tab checlogin db loginfilter[0] cartpredest: \" +\n            loginfilter[0].cartpredest\n        );\n        console.log(\n          \"tab checlogin db loginfilter[0] cartcnum: \" + loginfilter[0].cartcnum\n        );\n        console.log(\n          \"tab checlogin db loginfilter[0] email: \" + loginfilter[0].email\n        );\n        console.log(\"tab checlogin db loginfilter[0] pw: \" + loginfilter[0].pw);\n        console.log(\"tab checlogin a: \" + a);\n        try {\n          putactiveuser(zam).then((e) => {\n            getUser();\n          });\n        } catch (puterror) {\n          console.log(\"likely overlapping puts, error: \" + puterror); //August 28 wipe change #25 - exception catcher. also put loginfilter outside of the arguably now entirely unecessary map\n        }\n      }\n    }\n    /*if (y == false) {\n      putactiveuser({\n        email: \"Guest\",\n        pw: \"\",\n        cartpredest: [],\n        cartcnum: [],\n      }).then((e) => {\n        getUser();\n      });\n    }*/\n    setApiValid(y);\n    putStatus({ status: y });\n    return z;\n  };\n\n  //login check True/False api\n  const putStatus = async (e) => {\n    await fetch(\"http://localhost:3002/logged\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(e),\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n    });\n  };\n  const getStatus = async () => {\n    const x = await fetch(\"http://localhost:3002/logged\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        return result;\n      });\n    return x;\n  };\n\n  const putuser = async (i, e) => {\n    let x = i;\n    /*let y = {\n      email: e.email,\n      pw: e.pw,\n      cartpredest: a,\n      cartcnum: b,\n    };*/\n    console.log(\"tab putuser\");\n    setUserName(e);\n    await fetch(\"http://localhost:3002/activeuser/\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(e),\n    });\n    await fetch(\"http://localhost:3002/cartusers/\" + i, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(e),\n    }).then((response) => {\n      if (response.ok) {\n        setPostApi(true);\n        return response.json();\n      }\n    });\n  };\n\n  const putactiveuser = async (e) => {\n    console.log(\"tab activeuser input e\" + JSON.stringify(e));\n    let waga = { ...e, cartographer: [3, 2, 1] };\n    await fetch(\"http://localhost:3002/activeuser\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application.json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(waga),\n    }).then((response) => {\n      if (response.ok) {\n        console.log(\"tab putactiveuser response\" + response.status);\n        return response.json();\n      }\n    });\n  };\n\n  const statuscheck = async () => {\n    getStatus().then((e) => {\n      setApiValid(e.status == true);\n      setLoggedIn(e.status == true);\n      if (e.status == true) {\n        setTabState(8);\n        setVisible(true);\n      }\n      return e.status;\n    });\n  };\n\n  const getLogin = async () => {\n    const x = await fetch(\"http://localhost:3002/cartusers\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        //setGridList(result);\n        return result;\n      });\n    return x;\n  };\n\n  useEffect(() => {\n    //August 26 #6 a Wipe - removed gridList cartnum resetter (set all to 0)\n    getUser().then((e) => {\n      //console.log(\"iop\" + e[\"email\"] + e[\"pw\"]);\n      setInputValue({ email: e[\"email\"], pw: e[\"pw\"] });\n      handleCart(gridList);\n    });\n    statuscheck();\n    //setInputValue({ email: userName[\"email\"], pw: userName[\"pw\"] });\n\n    //handleCarTotal();\n  }, []);\n\n  /*August 26 #7 Wipe \n  useEffect(() => {\n    getProducts();\n  }, [userName]);\n  */\n\n  useEffect(() => {\n    /*if (!apiValid) {\n      setCart(0);\n    } else {\n      handleCart();\n    }*/\n    //August 26 wipe change #16\n    handleCart(gridList);\n    if (userName.email == \"Guest\") {\n      setCart(0);\n    }\n    let y = 0;\n    let x = userName.cartcnum.reduce((a, b) => a + b, y);\n    console.log(\n      \"cartglitch \" + userName.email + JSON.stringify(userName.cartcnum)\n    );\n    setCarTotal(x);\n    //handleCarTotal();\n  }, [userName]);\n\n  /* useEffect(() => {\n    if (tabState < 5) {\n      getUser().then((e) => {\n        checkLogin(e.email, e.pw);\n      });\n    }\n  }, [inputValue]);\n\n  useEffect(() => {\n    getUser().then((e) => {\n      checkLogin(e.email, e.pw);\n    });\n  }, []);*/\n\n  /*useEffect(() => {\n    getProducts().then((z) => {\n      Object.keys(z).map((e, i) => {\n        if (i !== 0) {\n          if (Object.keys(z[i]).length > 1) {\n            let a = { ...z[i], cartnum: 0 };\n            putposter(i, a);\n          }\n        }\n      });\n      return 0;\n    });\n  }, []);*/ //August 26 change # 6\n\n  /*const resetGridList = async () => {\n    getLogin().then((e) => {\n      let a = Object.keys(e).map((q, i) => {\n        if (i !== 0) {\n          if (Object.keys(e[i]).length > 1) {\n            a[i] = { ...e[i], cartnum: 0 };\n          }\n        }\n      });\n      let y = fetch(\"http://localhost:3002/cartusers\", {\n        method: \"PUT\",\n        headers: {\n          Accept: \"application.json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(a),\n      }).then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n      });\n    });\n  };*/\n\n  //useEffect(() => {}, [userName]);\n\n  // const getter = async () => {};\n\n  const handleCart = async (input) => {\n    console.log(\"cartcall\");\n    let q = 0;\n    let b = 0;\n    //console.log(\"asdf\" + JSON.stringify(a));\n    //August 26 wipe change #15\n    userName.cartpredest.map((e, i) => {\n      q = userName.cartcnum[i] * input[e].price;\n      b += q;\n      /*console.log(\"fdsa cartpredest[e]\" + userName.cartpredest[e]);\n      console.log(\"fdsa e\" + e);\n      console.log(\"fdsa\" + userName.cartcnum[i] + \" and i - \" + i);\n      console.log(\"fdsa gridelist[e] \" + input[e].price);\n      console.log(\"fdsa q \" + userName.cartcnum[i] * input[e].price);*/\n    });\n    console.log(\"fdsa b\" + b);\n    setCart(b);\n    return b;\n  };\n\n  return isLoading ? (\n    <div>loading</div>\n  ) : (\n    <div className={\"home\"}>\n      <div className={\"headers\"}>\n        <span className=\"homeb\" onClick={() => setTabState(8)}>\n          Management Chuwa\n        </span>\n        <span\n          className={\"logbutton\"}\n          onClick={() => {\n            //August 26 wipe\n            /*\n            Object.keys(gridList).map((e, i) => {\n              if (i !== 0) {\n                if (Object.keys(gridList[i]).length > 1) {\n                  let a = { ...gridList[i], cartnum: 0 };\n                  putposter(i, a);\n                  console.log(\"tab resetter putposter i\" + i);\n                  console.log(\"tab resetter putposter a\" + JSON.stringify(a));\n                }\n              }*/\n            //loggedIn && setLoggedIn(false);\n            setLoggedIn(!loggedIn);\n            //setVisible(!visible);\n            //let x = apiValid ? \"true\" : \"False\";\n            //console.log(\"apiValidity\" + x);\n            let x = {\n              email: \"Guest\",\n              pw: \"\",\n              cartpredest: [],\n              cartcnum: [],\n            };\n            console.log(\"tab login button clicked\");\n            putuser(0, x).then((e) => {\n              getUser();\n            });\n            if (apiValid == true) {\n              setApiValid(false);\n              setInputValue({ email: \"\", pw: \"\" });\n              putStatus({ status: \"false\" });\n              setValiTime(false);\n            } else {\n              handleCart(gridList);\n              setCart(0);\n            }\n            setTabState(1);\n          }}\n        >\n          {apiValid ? \"Logout\" : \"Login\"}\n        </span>\n        <a className=\"emaildisplay\">\n          {userName[\"email\"]}\n          {\"     \"}\n        </a>\n\n        <span className={\"cart\"}>\n          ${cart}\n          {\"  \"}\n        </span>\n        {/*<span className={\"cart\"}>\n          total:\n          {\"    \"}\n          {carTotal}\n        </span>*/}\n        <span className=\"carticon\">\n          <CartModal\n            carTotal={carTotal}\n            gridList={gridList}\n            setGridList={setGridList}\n            putposter={putposter}\n            userName={userName}\n            putuser={putuser}\n            setPreDest={setPreDest}\n            setTabState={setTabState}\n            apiValid={apiValid}\n            cart={cart}\n          />\n        </span>\n      </div>\n      {/*<button onClick={() => putactiveuser({ guh: \"huh\" })}>aser</button>*/}\n      <Login\n        visible={visible}\n        setVisible={setVisible}\n        tabState={tabState}\n        setTabState={setTabState}\n        cart={cart}\n        setCart={setCart}\n        loggedIn={loggedIn}\n        setLoggedIn={setLoggedIn}\n        apiValid={apiValid}\n        setapiValid={setApiValid}\n        valiTime={valiTime}\n        setValiTime={setValiTime}\n        putStatus={putStatus}\n        carTotal={carTotal}\n        setCarTotal={setCarTotal}\n        setApiDone={setApiDone}\n        gridList={gridList}\n        setGridList={setGridList}\n        getLogin={getLogin}\n        checkLogin={checkLogin}\n        userName={userName}\n        setUserName={setUserName}\n        putuser={putuser}\n        postApi={postApi}\n        setPostApi={setPostApi}\n        inputValue={inputValue}\n        setInputValue={setInputValue}\n        putposter={putposter}\n        getProducts={getProducts}\n        setPreDest={setPreDest}\n        preDest={preDest}\n        pageNum={pageNum}\n        setPageNum={setPageNum}\n        emailErr={emailErr}\n        setEmailErr={setEmailErr}\n        isLoading={isLoading}\n      />\n      <p />\n      <a>guh</a>\n      <p />\n      {/*<Login\n        visible={visible}\n        setVisible={setVisible}\n        tabState={tabState}\n        setTabState={setTabState}\n        /> ?????????*/}\n      <div className={\"footer\"}>footer</div>\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}