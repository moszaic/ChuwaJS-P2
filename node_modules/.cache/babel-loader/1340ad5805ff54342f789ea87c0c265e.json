{"ast":null,"code":"var _jsxFileName = \"/Users/stevenfan/Documents/2022/Chuwa/project2ts/src/components/home/cart/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport SubmitButton from \"../login/modalcontent/submitbutton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CartModal = _ref => {\n  _s();\n\n  let {\n    carTotal,\n    gridList,\n    setGridList,\n    putposter,\n    userName,\n    putuser,\n    setPreDest,\n    setTabState,\n    apiValid,\n    cart\n  } = _ref;\n  const [cartVis, setCartVis] = useState(false);\n  const [codeVal, setCodeVal] = useState(\"\");\n  const [totalVal, setTotalVal] = useState(0);\n  const discountcCodes = [\"20off\", \"firstdeal\"]; //August 26 wipe #17\n\n  const codeCounter = () => {\n    console.log(\"cartotal totalval\" + totalVal);\n    console.log(\"cartotal codeVal\" + codeVal);\n\n    switch (codeVal) {\n      case \"20off\":\n        let x = Math.round(cart * 0.8 * 100) / 100;\n        setTotalVal(x);\n        console.log(\"cartotal totalval\" + totalVal);\n        break;\n\n      case \"firstdeal\":\n        setTotalVal(cart - 10);\n        break;\n\n      default:\n        setTotalVal(cart);\n        break;\n    }\n  };\n\n  useEffect(() => {\n    setTotalVal(cart);\n  }, [cart]);\n  useEffect(() => {\n    console.log(\"cartotal:\" + codeVal);\n  }, [codeVal]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"cartbutton\",\n      onClick: () => setCartVis(!cartVis),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"carticon\",\n        src: \"https://www.citypng.com/public/uploads/preview/hd-shopping-cart-white-logo-icon-transparent-png-11640441682ecem2ohejv.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"cartotal\",\n        children: carTotal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cartVis ? \"cartwindow\" : \"nowindow\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"cartcontent\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: userName.cartpredest.map((e, i) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"cartitem\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"cartimg\",\n                    onClick: () => {\n                      setPreDest(e);\n                      setCartVis(!cartVis);\n                      setTabState(6);\n                    },\n                    src: gridList[e][\"img\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"trdetails\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"cartext\",\n                    children: gridList[e][\"name\"]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"sbutton\",\n                  children: [/*#__PURE__*/_jsxDEV(SubmitButton, {\n                    tabState: 5,\n                    itemnum: e,\n                    gridList: gridList,\n                    setGridList: setGridList,\n                    putposter: putposter,\n                    userName: userName,\n                    putuser: putuser\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setPreDest(e);\n                      setTabState(7);\n                    },\n                    className: apiValid ? \"button2\" : \"nowindow\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 21\n                }, this)]\n              }, \"id\" + e, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cartfooter\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"footertext\",\n          children: [\"Total: $\", cart]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"footertext\",\n          children: \"Discount code:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: codeVal,\n          onChange: e => {\n            setCodeVal(e.target.value);\n\n            if (codeVal == \"\") {\n              setTotalVal(cart);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => codeCounter(),\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"footerfinaltext\",\n          children: [\"Final Total: $\", totalVal]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CartModal, \"/ONnjeL0uEzTFnOkK1vuEJ4KFpQ=\");\n\n_c = CartModal;\nexport default CartModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartModal\");","map":{"version":3,"names":["React","useState","useEffect","SubmitButton","CartModal","carTotal","gridList","setGridList","putposter","userName","putuser","setPreDest","setTabState","apiValid","cart","cartVis","setCartVis","codeVal","setCodeVal","totalVal","setTotalVal","discountcCodes","codeCounter","console","log","x","Math","round","cartpredest","map","e","i","target","value"],"sources":["/Users/stevenfan/Documents/2022/Chuwa/project2ts/src/components/home/cart/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport SubmitButton from \"../login/modalcontent/submitbutton\";\n\nconst CartModal = ({\n  carTotal,\n  gridList,\n  setGridList,\n  putposter,\n  userName,\n  putuser,\n  setPreDest,\n  setTabState,\n  apiValid,\n  cart,\n}) => {\n  const [cartVis, setCartVis] = useState(false);\n  const [codeVal, setCodeVal] = useState(\"\");\n  const [totalVal, setTotalVal] = useState(0);\n\n  const discountcCodes = [\"20off\", \"firstdeal\"];\n  //August 26 wipe #17\n\n  const codeCounter = () => {\n    console.log(\"cartotal totalval\" + totalVal);\n    console.log(\"cartotal codeVal\" + codeVal);\n    switch (codeVal) {\n      case \"20off\":\n        let x = Math.round(cart * 0.8 * 100) / 100;\n        setTotalVal(x);\n        console.log(\"cartotal totalval\" + totalVal);\n        break;\n      case \"firstdeal\":\n        setTotalVal(cart - 10);\n        break;\n      default:\n        setTotalVal(cart);\n        break;\n    }\n  };\n\n  useEffect(() => {\n    setTotalVal(cart);\n  }, [cart]);\n\n  useEffect(() => {\n    console.log(\"cartotal:\" + codeVal);\n  }, [codeVal]);\n\n  return (\n    <>\n      <span className={\"cartbutton\"} onClick={() => setCartVis(!cartVis)}>\n        <img\n          className=\"carticon\"\n          src=\"https://www.citypng.com/public/uploads/preview/hd-shopping-cart-white-logo-icon-transparent-png-11640441682ecem2ohejv.png\"\n        />\n        <a className=\"cartotal\">{carTotal}</a>\n      </span>\n      <div className={cartVis ? \"cartwindow\" : \"nowindow\"}>\n        <span className=\"cartcontent\">\n          {/*wheehoo*/}\n          <table>\n            <tbody>\n              {userName.cartpredest.map((e, i) => {\n                return (\n                  <tr className=\"cartitem\" key={\"id\" + e}>\n                    <td>\n                      <img\n                        className=\"cartimg\"\n                        onClick={() => {\n                          setPreDest(e);\n                          setCartVis(!cartVis);\n                          setTabState(6);\n                        }}\n                        src={gridList[e][\"img\"]}\n                      />\n                    </td>\n                    <td className=\"trdetails\">\n                      <a className=\"cartext\">{gridList[e][\"name\"]}</a>\n                      {/*<a className=\"cartnum\">{gridList[i][\"cartnum\"]}</a>*/}\n                    </td>\n                    <td className=\"sbutton\">\n                      <SubmitButton\n                        tabState={5}\n                        itemnum={e}\n                        gridList={gridList}\n                        setGridList={setGridList}\n                        putposter={putposter}\n                        userName={userName}\n                        putuser={putuser}\n                      />\n                      <button\n                        onClick={() => {\n                          setPreDest(e);\n                          setTabState(7);\n                        }}\n                        className={apiValid ? \"button2\" : \"nowindow\"}\n                      >\n                        Edit\n                      </button>\n                      {/*<button onClick={() => {}} className=\"deletebutton\">\n                          Delete\n                        </button>*/}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </span>\n        <div className=\"cartfooter\">\n          <p className=\"footertext\">Total: ${cart}</p>\n          <a className=\"footertext\">Discount code:</a>\n          <input\n            value={codeVal}\n            onChange={(e) => {\n              setCodeVal(e.target.value);\n              if (codeVal == \"\") {\n                setTotalVal(cart);\n              }\n            }}\n          ></input>\n          <button onClick={() => codeCounter()}>Submit</button>\n\n          <p className=\"footerfinaltext\">Final Total: ${totalVal}</p>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CartModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}